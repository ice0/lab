environment:
  CCACHE_DIR: "%APPVEYOR_BUILD_FOLDER%\\.ccache"
  matrix:
    - MSYSTEM: MINGW64
    - MSYSTEM: MINGW32

# set clone depth
clone_depth: 1 # clone entire repository history if not defined

cache:
  - .ccache

build_script:
  - '%APPVEYOR_BUILD_FOLDER%\autobuild\msys2\appveyor.bat'

artifacts:
  - path: build/main.exe

#deploy: off

deploy:
- provider: BinTray
  username: ice0
  api_key:
    secure: zMrTSvnYJ7yPiwkwsnvUeS/uo9L02e/jg9IKaJxOmBB/KugwyJ9o6WIF0vXHG3eq
  subject: ice0
  repo: lab
  package: lab-test
  version: '1.0.{build}'
  publish: true
  override: true
  explode: true